
<mat-card>
   <h1>Area administrativa</h1> 
</mat-card>

<!-- inicio -->


<ng-container *ngIf="Opcion == 0" >
  

        <mat-card>
            <button mat-button color="black" (click)="Opcion = 1" >
              Crear Pelicula
            </button>
        </mat-card>

        <mat-card>
            <button mat-button color="black" (click)="Opcion = 2" >
               Listar Peliculas
            </button>
        </mat-card>



</ng-container>

<!-- Crear -->
<ng-container *ngIf="Opcion == 1" >

    <mat-card class="ContainerCreate">

        <!-- Nombre -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Nombre Pelicula</mat-label>
                    <input [formControl]="Nombre" matInput placeholder="Ej: Camino hacia el terror" required>
                    <mat-error *ngIf="Nombre.invalid">
                        Debe llenar este campo
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Cubierta -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Cubierta (LinkImagen)</mat-label>
                    <input [formControl]="Cubierta" matInput placeholder="Link Imagen" required>
                    <mat-error *ngIf="Cubierta.invalid">
                        Debe llenar este campo
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Descripcion -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Descripcion Pelicula</mat-label>
                    <textarea [formControl]="Descripcion" matInput
                        placeholder="Ej: Esta pelicula se trata de una montaña..." required></textarea>
                    <mat-error *ngIf="Descripcion.invalid">
                        Debe llenar este campo
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Puntaje -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Puntaje Pelicula</mat-label>
                    <input [formControl]="Puntaje" matInput placeholder="Putaje del 1 al 10" required>
                    <mat-error *ngIf="Puntaje.invalid">
                        {{getErrorMessagePuntaje()}}
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Estado Pelicula -->
        <form class="example-form">
            <mat-form-field appearance="fill">
                <mat-label>Tipo Estado Pelicula</mat-label>
                <mat-select [formControl]="idEstadoPelicula" required>
                    <mat-option>--</mat-option>
                    <mat-option *ngFor="let Estado of EstadosPelicula" [value]="Estado.idEstadoPelicula">
                        {{Estado.Nombre}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="idEstadoPelicula.hasError('required')">
                    Ingrese un tipo de estado
                </mat-error>
            </mat-form-field>
        </form>

        <button mat-button color="black" (click)="CrearPelicula()">
            <mat-icon>add</mat-icon>
            Crear Pelicula
        </button>

    </mat-card>
    <button mat-button color="black" (click)="Opcion = 0" >
        Volver
     </button>
</ng-container>


<!-- Mostrar -->
<ng-container *ngIf="Opcion == 2">

    <mat-card  *ngFor="let Pelicula of ListaPeliculas">

        <mat-card>
            <div>
                Numero: {{Pelicula.idPelicula}}
            </div>
            <div>
                Nombre: {{Pelicula.Nombre}}
            </div>
            <div>
                idEstadoPelicula: {{Pelicula.idEstadoPelicula}}
            </div>
            <div>
                FechaCreacion: {{Pelicula.FechaCreacion}}
            </div>


            <img src="{{ Pelicula.Cubierta}}" style="height: 130px; width:200px ;">

            <div>
                <button mat-button color="black" (click)="RellenarEditar(Pelicula)">
                    <mat-icon>create</mat-icon>
                    Editar Pelicula
                </button>

                <button mat-button color="black" (click)="RellenarEliminar(Pelicula)">
                    <mat-icon>delete</mat-icon>
                    Elimnar Pelicula
                </button>
            </div>




        </mat-card>

    </mat-card>

    <button mat-button color="black" (click)="Opcion = 0" >
        Volver
     </button>

</ng-container>

<!-- Editar -->
<ng-container *ngIf="Opcion == 3">
    <mat-card class="ContainerCreate">

        <!-- Nombre -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Nombre Pelicula</mat-label>
                    <input [formControl]="Nombre" matInput placeholder="Ej: Camino hacia el terror" required>
                    <mat-error *ngIf="Nombre.invalid">
                        Debe llenar este campo
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Cubierta -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Cubierta (LinkImagen)</mat-label>
                    <input [formControl]="Cubierta" matInput placeholder="Link Imagen" required>
                    <mat-error *ngIf="Cubierta.invalid">
                        Debe llenar este campo
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Descripcion -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Descripcion Pelicula</mat-label>
                    <textarea [formControl]="Descripcion" matInput
                        placeholder="Ej: Esta pelicula se trata de una montaña..." required></textarea>
                    <mat-error *ngIf="Descripcion.invalid">
                        Debe llenar este campo
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Puntaje -->
        <div class="form-group">
            <form class="example-form">
                <mat-form-field>
                    <mat-label>Puntaje Pelicula</mat-label>
                    <input [formControl]="Puntaje" matInput placeholder="Putaje del 1 al 9" required>
                    <mat-error *ngIf="Puntaje.invalid">
                       {{getErrorMessagePuntaje()}}
                    </mat-error>
                </mat-form-field>
            </form>
        </div>
        <!-- Estado Pelicula -->
        <form class="example-form">
            <mat-form-field appearance="fill">
                <mat-label>Tipo Estado Pelicula</mat-label>
                <mat-select [formControl]="idEstadoPelicula" required>
                    <mat-option>--</mat-option>
                    <mat-option *ngFor="let Estado of EstadosPelicula" [value]="Estado.idEstadoPelicula">
                        {{Estado.Nombre}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="idEstadoPelicula.hasError('required')">
                    Ingrese un tipo de estado
                </mat-error>
            </mat-form-field>
        </form>

        <button mat-button color="black" (click)="ActualziarPelicula()">
            <mat-icon>add</mat-icon>
            Editar Pelicula
        </button>

    </mat-card>
    <button mat-button color="black" (click)="Opcion = 0" >
        Volver
     </button>
</ng-container>

<!-- Borrar -->
<ng-container *ngIf="Opcion == 4">


    <mat-card>
        <mat-card>
            Esta seguro se que desea eliminar esta pelicula?
        </mat-card>


<button mat-button color="black" (click)="EliminarPelicula()">
            <mat-icon>delete</mat-icon>
            Eliminar Pelicula
        </button>
    </mat-card>

    <button mat-button color="black" (click)="Opcion = 0" >
        Volver
     </button>
</ng-container>